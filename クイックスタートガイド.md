# Remotion動画作成 クイックスタートガイド

このガイドは、最短で動画プレビューを表示するための簡易マニュアルです。

---

## 📋 必要なもの（事前準備）

### ✅ チェックリスト

- [ ] Node.js v22以上がインストール済み
- [ ] VOICEPEAKがインストール済み（`C:\voicepeak\VOICEPEAK\voicepeak.exe`）
- [ ] 以下のファイルが準備済み：
  - [ ] `script_final.md`（字幕用：技術用語そのまま）
  - [ ] `script_final_hosei.md`（音声用：発音補正済み）
  - [ ] `public/slide/S001.png` ～ `S007.png`（スライド画像）
  - [ ] `public/bgm/Floraria.mp3`（BGM）

---

## 🚀 実行方法（3つから選択）

### 方法1: npm コマンド（一番簡単！）

```bash
npm run workflow
```

たったこれだけ！全自動で以下が実行されます：
1. 前提条件チェック
2. 背景画像準備
3. 音声ファイル生成
4. 設定ファイル生成
5. プレビューサーバー起動

---

### 方法2: バッチファイル実行

```bash
run-remotion-workflow.bat
```

ダブルクリックでも実行可能です。

---

### 方法3: PowerShell実行

```bash
powershell -ExecutionPolicy Bypass -File run-remotion-workflow.ps1
```

---

## 🌐 プレビュー確認

### 1. サーバー起動を確認

実行後、以下のようなログが表示されるまで待ちます（10～20秒）：

```
Server ready - Local: http://localhost:3000
Built in 1363ms
```

### 2. ブラウザでURLを開く

ログに表示されたURL（例: `http://localhost:3000`）をブラウザで開きます。

**重要**: ポート番号（3000、3006など）はログに表示された番号を使用してください。

### 3. コンポジションを選択

ブラウザ左上のドロップダウンメニューから「**Slideshow**」を選択します。

### 4. 再生

再生ボタン（▶）を押して動画を確認します。

---

## ✅ 確認事項

正常に動作している場合、以下が表示されます：

- ✅ スライド画像（S001～S007）
- ✅ ゆっくりキャラクター（右下）
- ✅ 字幕（画面下部に技術用語が表示）
- ✅ 音声（発音補正された音声が再生）
- ✅ 口パクアニメーション（音声に合わせて動く）
- ✅ BGM（Floraria.mp3が小音量で再生）

---

## 🔧 よくあるトラブル

### 「このサイトにアクセスできません」と表示される

**原因**: サーバーが起動していない

**解決方法**:
1. サーバーが起動しているか確認
   ```bash
   netstat -ano | findstr :3000
   ```
2. 何も表示されない場合、サーバーを起動
   ```bash
   npm start
   ```
3. ログに表示されたURLでアクセス

---

### 画像が表示されない

**原因**: ファイルが配置されていない

**解決方法**:
1. `public/slide/` にスライド画像があるか確認
2. ファイル名が `S001.png` ～ `S007.png` か確認
3. `public/background/kyaradeza-back.png` があるか確認

---

### 音声が聞こえない

**原因**: 音声ファイルが生成されていない

**解決方法**:
1. `public/voices/` フォルダを確認
2. `S001-1.wav` などのファイルがあるか確認
3. ない場合、音声を再生成
   ```bash
   npx ts-node scripts/generateScriptFinalHoseiVoices.ts --force
   npx ts-node scripts/generateSlideshowConfig.ts
   ```

---

## 🛑 サーバーの停止方法

プレビュー確認後、サーバーを停止する場合：

```
Ctrl + C
```

を押してください。

---

## 📝 オプション機能

### 音声生成をスキップ（既存の音声を使用）

```bash
npm run workflow:skip-voice
```

### プレビューサーバー起動をスキップ

```bash
npm run workflow:no-preview
```

---

## 📚 詳細な情報

詳しい手順や設定方法は `remotion作成手順.md` を参照してください。

- [remotion作成手順.md](remotion作成手順.md) - 完全版マニュアル
- トラブルシューティング
- 詳細な設定方法
- 音声設定のカスタマイズ
- pauseAfter調整方法

---

## ⚡ まとめ

### 最短手順

```bash
# 1. このコマンドを実行
npm run workflow

# 2. ログに表示されたURLをブラウザで開く
# 例: http://localhost:3000

# 3. 左上で「Slideshow」を選択

# 4. 再生ボタン（▶）を押す
```

**これだけで動画プレビューが確認できます！**

---

作成日: 2025-01-26
